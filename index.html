<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Sign-Up/Login Form</title>
  <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

  
      <link rel="stylesheet" href="css/style.css">

  
</head>

<body>

  <div class="form"  >
      
      <ul class="tab-group">
        <li class="tab active"><a href="#signup">Cadastre-se</a></li>
        <li class="tab"><a href="#login">Logar</a></li>
      </ul>
      
      <div class="tab-content">
        <div id="signup">   
          <h1>Informe seus dados</h1>
          
          <form class="post-input"  method="post" name="indexForm">
          <input type="text" name="idUsuario" id="isUsuario" style="display: none" />
          <div class="top-row">
            <div class="field-wrap">
              <label>
                Nome <span class="req">*</span>
              </label>
              
              <input type="text" name="nome" id="nome" required autocomplete="off" />
            </div>
        
            <div class="field-wrap">
              <label>
                Endereço<span class="req">*</span>
              </label>
              <input type="text" name="endereco" id="endereco" required autocomplete="off"/>
            </div>
          </div>

          <div class="field-wrap">
            <label>
              Endereço de e-mail<span class="req">*</span>
            </label>
            <input type="email" name="email" id="email" required autocomplete="off"/>
          </div>
          
          <div class="field-wrap">
            <label>
              Escolha uma senha<span class="req">*</span>
            </label>
            <input type="password" name="senha" id="senha" required autocomplete="off"/>
          </div>
          
          <button type="submit"  class="button button-block"/>Confirmar</button>
          
          </form>

        </div>
        
        <div id="login">   
          <h1>Bem vindo novamente!</h1>
          
          <form action="/" method="post">
          
            <div class="field-wrap">
            <label>
              Endereço de e-mail<span class="req">*</span>
            </label>
            <input type="email"required autocomplete="off"/>
          </div>
          
          <div class="field-wrap">
            <label>
              Senha<span class="req">*</span>
            </label>
            <input type="password"required autocomplete="off"/>
          </div>
          
          <!-- p class="forgot"><a href="#">Esqueceu a senha?</a></p> -->
          
          <button class="button button-block"/>Acessar</button>
          
          </form>

        </div>
        
      </div><!-- tab-content -->
      
</div> <!-- /form -->
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script  src="js/index.js"></script>
    <script>

    $(".post-input").submit(function(){
            var formData = $(this).serializeArray();
            var data = {};
            $(formData).each(function() {
                if (data[this.name] !== undefined){
                    if (!Array.isArray(data[this.name])) {
                      data[this.name] = [data[this.name]];
                    }
                    data[this.name].push(this.value);
                }else{
                    data[this.name] = this.value;
                }
            });
            console.log(data);

            var final_data = JSON.stringify(data)
            console.log(final_data);

            $.ajax({
              type: "POST",
              dataType: "JSON",
              url: "https://localhost:44389/api/Usuarios",
              data: final_data,
              contentType : "application/json",
              success: function(response, textStatus, jqXHR) {
                    alert("Yes!");
                },
                error: function(jqXHR, textStatus, errorThrown){
                    alert(textStatus, errorThrown);
                }
            });
        });
    
    </script>


</body>

</html>
